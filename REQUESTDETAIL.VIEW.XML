<mvc:View controllerName="com.pidilite.pidilite.controller.RequestDetails"
        xmlns:mvc="sap.ui.core.mvc"
        xmlns="sap.m"
        xmlns:core="sap.ui.core"
        xmlns:form="sap.ui.layout.form"
        xmlns:layout="sap.ui.layout"
        xmlns:suite="sap.suite.ui.commons"
        displayBlock="true">

    <Page id="requestDetailsPage" title="Request Details" showNavButton="true" navButtonPress="onNavBack">
        <content>
            <Panel id="requestDetailsPanel" class="sapUiSmallMargin">
                <headerToolbar>
                    <Toolbar id="requestDetailsToolbar">
                        <Title id="requestDetailsTitle" text="Request No: {/request/requestNo}"/>
                        <ToolbarSpacer id="requestDetailsSpacer"/>
                        <Button id="saveButton" text="Save" press="onSaveRequest" type="Accept"/>
                        <Button id="sendBackButton" text="Send Back" press="onSendBackRequest" type="Accept"/>
                        <Button id="rejectButton" text="Reject" press="onRejectRequest" type="Reject"/>
                        <Button id="approveButton" text="Approve" press="onApproveRequest" type="Accept"/>
                    </Toolbar>
                </headerToolbar>
                <Toolbar id="microProcessToolbar">
                    <HBox id="microProcessHBox" justifyContent="Center">
                        <suite:MicroProcessFlow id="microProcessFlow">
                            <suite:content>
                                <suite:MicroProcessFlowItem id="_IDGenMicroProcessFlowItem" state="Success" icon="sap-icon://accept" press="onMicroProcessItemPress" tooltip="Step 1: My Draft Request"/>
                                <suite:MicroProcessFlowItem id="_IDGenMicroProcessFlowItem1" state="Warning" icon="sap-icon://accept" press="onMicroProcessItemPress" tooltip="Step 2: Send Back Request"/>
                                <suite:MicroProcessFlowItem id="_IDGenMicroProcessFlowItem2" state="Success" icon="sap-icon://accept" press="onMicroProcessItemPress" tooltip="Step 3: Rejected Request"/>
                                <suite:MicroProcessFlowItem id="_IDGenMicroProcessFlowItem3" state="Warning" icon="sap-icon://accept" press="onMicroProcessItemPress" tooltip="Step 4: In Progress Request"/>
                                <suite:MicroProcessFlowItem id="_IDGenMicroProcessFlowItem4" state="Error" icon="sap-icon://accept" press="onMicroProcessItemPress" tooltip="Step 5: All Request"/>
                            </suite:content>
                        </suite:MicroProcessFlow>
                    </HBox>
                </Toolbar>
                <VBox id="requestDetailsVBox">
                    <form:SimpleForm id="requestDetailsForm" layout="ResponsiveGridLayout" editable="{/editable}" labelSpanXL="4" labelSpanL="4" labelSpanM="4" labelSpanS="12">
                        <Panel id="priceRequisitionPanel" headerText="Price Requisition Details" expandable="true" expanded="true">
                            <Label id="mandatoryLabel" text="Fields marked with * are mandatory" class="sapUiSmallMarginTop mandatoryLabel"/>
                            <layout:Grid id="detailsGrid" defaultSpan="XL6 L6 M6 S12" class="sapUiSmallMargin">
                                <!-- Left Column -->
                                <VBox id="leftVBox">
                                    <Label id="referenceNoLabel" text="Reference No:*"/>
                                    <Input id="referenceNoInput" value="{/request/referenceNo}"/>
                                    <Label id="divisionLabel" text="Division:*"/>
                                    <Input id="divisionInput" value="{/request/division}"/>
                                    <Label id="dcnrFormLabel" text="DCNR# form:"/>
                                    <Input id="dcnrFormInput" value="{/request/dcnrForm}"/>
                                    <Label id="standardReasonLabel" text="Standard Reason:"/>
                                    <Input id="standardReasonInput" value="{/request/standardReason}"/>
                                    <Label id="creatorCommentLabel" text="Comment by Creator:"/>
                                    <Input id="creatorCommentInput" value="{/request/creatorComment}"/>
                                </VBox>
                                <!-- Right Column -->
                                <VBox id="rightVBox">
                                    <Label id="createdByLabel" text="Created By:"/>
                                    <Text id="createdByText" text="{/request/createdBy}"/>
                                    <Label id="createdOnLabel" text="Created Date:"/>
                                    <Text id="createdOnText" text="{/request/createdOn}"/>
                                    <Label id="statusLabel" text="Status of the Request:"/>
                                    <Text id="statusText" text="{/request/status}"/>
                                    <Label id="salesGroupLabel" text="Sales Group:"/>
                                    <Input id="salesGroupInput" value="{/request/salesGroup}"/>
                                    <Label id="dcnrToLabel" text="DCNR% to:"/>
                                    <Input id="dcnrToInput" value="{/request/dcnrTo}"/>
                                </VBox>
                            </layout:Grid>
                        </Panel>
                    </form:SimpleForm>
                    <IconTabBar id="detailsTabBar" select="onDetailsTabSelect" expandable="false" class="sapUiSmallMarginTop">
                        <items>
                            <IconTabFilter id="priceDetailsTab" text="Price Details" key="priceDetails">
                                <Table id="priceDetailsTable" items="{/priceDetails}" width="100%">
                                    <columns>
                                        <Column id="materialColumn"><Text id="materialText" text="Material"/></Column>
                                        <Column id="priceListColumn"><Text id="priceListText" text="Price List"/></Column>
                                        <Column id="priceListDescColumn"><Text id="priceListDescText" text="Price List Description"/></Column>
                                        <Column id="uomColumn"><Text id="uomText" text="UoM"/></Column>
                                        <Column id="mrpColumn"><Text id="mrpText" text="Indicative MRP"/></Column>
                                        <Column id="startDateColumn"><Text id="startDateText" text="Start Date"/></Column>
                                        <Column id="endDateColumn"><Text id="endDateText" text="End Date"/></Column>
                                        <Column id="defaultPriceColumn"><Text id="defaultPriceText" text="Default Price for Lot Material"/></Column>
                                    </columns>
                                    <items>
                                        <ColumnListItem id="priceItem">
                                            <cells>
                                                <Text id="materialCell" text="{material}"/>
                                                <Text id="priceListCell" text="{priceList}"/>
                                                <Text id="priceListDescCell" text="{priceListDescription}"/>
                                                <Text id="uomCell" text="{uom}"/>
                                                <Text id="mrpCell" text="{indicativeMRP}"/>
                                                <Text id="startDateCell" text="{startDate}"/>
                                                <Text id="endDateCell" text="{endDate}"/>
                                                <Text id="defaultPriceCell" text="{defaultPrice}"/>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                            </IconTabFilter>
                            <IconTabFilter id="timelineTab" text="Timeline" key="timeline">
                                <suite:Timeline 
                                    id="detailsTimeline" 
                                    enableScroll="true" 
                                    content="{/timelineItems}" 
                                    showHeaderBar="false" 
                                    enableDoubleSided="true" 
                                    axisOrientation="Horizontal" 
                                    height="500px">
                                    <suite:content>
                                        <suite:TimelineItem id="timelineItem"
                                            dateTime="{dateTime}"
                                            title="{title}"
                                            text="{text}"
                                            userName="{userName}"
                                            userPicture="{userPicture}"
                                            status="{status}"
                                            icon="sap-icon://customer-briefing"/>
                                    </suite:content>
                                </suite:Timeline>
                            </IconTabFilter>
                        </items>
                    </IconTabBar>
                </VBox>
            </Panel>
        </content>
    </Page>
</mvc:View>
